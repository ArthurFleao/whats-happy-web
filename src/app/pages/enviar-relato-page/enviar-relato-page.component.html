<app-card [title]="'Enviar relato'">


  <app-form-enviar-relato class="w-100" [relatoRequired]="relatoRequired" [(form)]="form" (submited)="enviarRelato($event)">
    <div *ngIf="audio && loading">
      <mat-progress-bar [mode]="uploadPercentage? 'determinate' : 'query'" [value]="uploadPercentage | async"
                        color="primary">
      </mat-progress-bar>
    </div>
    <art-button [type]="'submit'" [loading]="loading">Enviar Relato</art-button>
  </app-form-enviar-relato>

  <div *ngIf="audioUrl">
    <mat-basic-audio-player [audioUrl]="audioUrl" [autoPlay]="false" muted="muted" [displayTitle]="false"
                            [displayVolumeControls]="true"></mat-basic-audio-player>
  </div>

  <app-recorder [disableButtons]="loading" (recorded)="onAudioRecorded($event)"></app-recorder>
</app-card>
